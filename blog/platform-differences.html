<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Accounting for platform differences | Android Testify</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ndtp.github.io/android-testify/blog/platform-differences"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Accounting for platform differences | Android Testify"><meta data-rh="true" name="description" content="This is my first post on Docusaurus 2."><meta data-rh="true" property="og:description" content="This is my first post on Docusaurus 2."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-02-13T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/DanielJette"><meta data-rh="true" property="article:tag" content="differences,customization"><link data-rh="true" rel="icon" href="/android-testify/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ndtp.github.io/android-testify/blog/platform-differences"><link data-rh="true" rel="alternate" href="https://ndtp.github.io/android-testify/blog/platform-differences" hreflang="en"><link data-rh="true" rel="alternate" href="https://ndtp.github.io/android-testify/blog/platform-differences" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HRW7HBODJM-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/android-testify/blog/rss.xml" title="Android Testify RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/android-testify/blog/atom.xml" title="Android Testify Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Android Testify" href="/android-testify/opensearch.xml"><link rel="stylesheet" href="/android-testify/assets/css/styles.88ab465f.css">
<link rel="preload" href="/android-testify/assets/js/runtime~main.2d32a20c.js" as="script">
<link rel="preload" href="/android-testify/assets/js/main.f8d53703.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/android-testify/"><div class="navbar__logo"><img src="/android-testify/img/logo.svg" alt="Android Testify Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/android-testify/img/logo.svg" alt="Android Testify Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Android Testify</b></a><a class="navbar__item navbar__link" href="/android-testify/docs/intro">Get Started</a><a class="navbar__item navbar__link" href="/android-testify/docs/category/recipes">Recipes</a><a class="navbar__item navbar__link" href="/android-testify/docs/category/extensions">Extensions</a><a class="navbar__item navbar__link" href="/android-testify/docs/migration">Migration</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/android-testify/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/android-testify/docs/intro">2.0.0-beta01</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/android-testify/docs/intro">2.0.0-beta01</a></li><li><a class="dropdown__link" href="/android-testify/docs/2.0.0-alpha02/intro">2.0.0-alpha02</a></li><li><a class="dropdown__link" href="/android-testify/docs/2.0.0-alpha01/intro">2.0.0-alpha01</a></li><li><a class="dropdown__link" href="/android-testify/docs/1.2.0-alpha01/intro">1.2.0-alpha01</a></li></ul></div><a href="https://github.com/ndtp/android-testify" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/android-testify/blog/platform-differences">Accounting for platform differences</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Accounting for platform differences</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-02-13T00:00:00.000Z" itemprop="datePublished">February 13, 2023</time> Â· <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/DanielJette" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/DanielJette.png" alt="Daniel Jette"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/DanielJette" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Daniel Jette</span></a></div><small class="avatar__subtitle" itemprop="description">Core Contributor to Android Testify</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>A common problem when using Testify is having to deal with undesirable differences in your screenshots caused by variations in platforms or hardware. This blog will explain how to configure Testify to account for these differences.</p><hr><p>Much of the UI in Android is rendered with hardware acceleration. This means that both the GPU and CPU used by your test device will impact the rendering of your screenshots. Commonly, this is caused by subtle differences in floating point rounding.</p><p>The elements most frequently impacted by hardware accelerated rendering are:</p><ol><li><a href="https://m1.material.io/material-design/elevation-shadows.html" target="_blank" rel="noopener noreferrer">Shadows &amp; elevation</a></li><li><a href="https://medium.com/@ali.muzaffar/android-why-your-canvas-shapes-arent-smooth-aa2a3f450eb5" target="_blank" rel="noopener noreferrer">Font smoothing &amp; anti-aliasing</a></li><li><a href="https://en.wikipedia.org/wiki/Compression_artifact" target="_blank" rel="noopener noreferrer">Image decompression and rendering</a></li><li><a href="https://en.wikipedia.org/wiki/Alpha_compositing" target="_blank" rel="noopener noreferrer">Alpha blending, or alpha compositing</a></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="background">Background<a class="hash-link" href="#background" title="Direct link to heading">â</a></h2><p>Letâs walk through a brief example that explains how these small hardware differences can impact your captured screenshots.</p><p>In this example, our UI uses two ARGB colors which each have some transparency. These colors are defined as <strong>ARGB(128,189,85,85)</strong><span style="background-color:#deaaaa;border-radius:2px;color:#fff;padding:0.2rem">Â <!-- -->Â <!-- -->Â <!-- -->Â </span> and <strong>ARGB(128,0,161,254)</strong><span style="background-color:#7fd0fe;border-radius:2px;color:#fff;padding:0.2rem">Â <!-- -->Â <!-- -->Â <!-- -->Â </span>.</p><p>In hardware, those would be represented as floating point numbers: <strong>(0.502f,<!-- -->Â <!-- -->0.741f,<!-- -->Â <!-- -->0.333f,<!-- -->Â <!-- -->0.333f)</strong> and <strong>(0.502f,<!-- -->Â <!-- -->0f,<!-- -->Â <!-- -->0.631f,<!-- -->Â <!-- -->0.996f)</strong> respectively.</p><p>If we stack these two swatches on top of a pure white background, the GPU will composite the two colors together in such a way that they appear like the following opaque color in the UI: <br>
<strong>(1.0f,<!-- -->Â <!-- -->0.619f,<!-- -->Â <!-- -->0.572f,<!-- -->Â <!-- -->0.666f)</strong><span style="background-color:#9a92aa;border-radius:2px;color:#fff;padding:0.2rem">Â <!-- -->Â <!-- -->Â <!-- -->Â </span>.</p><p>When capturing a screenshot, the onscreen image is saved to a bitmap file. Testify uses PNG files to store these images. During the capture process, the pixels are translated from the hardware representation to an integer representation by multiplying the floating point value by 255. Depending on many factors, the exact transformation that takes place can result in minor variations of the same values.</p><ul><li><code>0.619f Ã 255</code> might be rounded to 158 or truncated to 157</li><li><code>0.572f Ã 255</code> might be rounded to 146 or truncated to 145</li><li><code>0.666f x 255</code> might be rounded to 170 or truncated to 169</li></ul><p>This is generally regarded as a harmless or insignificant since the difference in the resulting colors will be imperceptible to the human eye.</p><p><img loading="lazy" src="data:image/png;base64,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" width="256" height="256" class="img_ev3q"> or <img loading="lazy" src="data:image/png;base64,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" width="256" height="256" class="img_ev3q"></p><p>Yes these are different!</p><p>This technique of blending two colors together is common in Android UI and so is a cause of many unintentional differences in your screenshot tests.</p><p>If you look at the hex representation of these two colors you can see that, mathematically speaking, these numbers are quite different from one another:</p><p><code>0x9D91A9</code> vs. <code>0x9E92AA</code></p><p>This can cause significant problems for screenshot tests.</p><p>A bit-based comparison will immediately fail due to the numbers not being identical.
Even a tolerance-based comparison will likely fail as the difference between the two numbers is <code>0x10101</code>, or 65,793!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-common-problem">A common problem<a class="hash-link" href="#a-common-problem" title="Direct link to heading">â</a></h2><p>These types of hardware rounding differences are very common. A variety of configuration options can impact the captured Testify images. The CPU (M1 or x86), the GPU (discrete or integrated), emulator image (arm64, x86 or x86_64) and emulated performance settings (number of CPU cores, emulated Graphics â Hardware or Software GLES 1.1 or GLES 2.0) will all impact the mathematical calculations that take part of the rendering and capture of any bitmaps by Testify.</p><p>In an ideal world, you would ensure that all devices in your testing environment are configured to use identical hardware and software settings. This would be the easiest way to avoid minor baseline image differences due to hardware variations.</p><p>However, it is extremely common for teams to have a variety of hardware configurations in use and it can be impossible to standardize on any one specific configration. Many large teams employ a large variety of development hardware, and the hardware configuration of many Continuous Integration Services offer limited or no control over their hardware.</p><p>In fact, this is so common that Testify has built-in accomodations for such differences.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="capture-screenshots-at-the-highest-quality">Capture screenshots at the highest quality<a class="hash-link" href="#capture-screenshots-at-the-highest-quality" title="Direct link to heading">â</a></h2><p>Before we can deal with these rendering irregularities, we need to first ensure we&#x27;re capturing high-quality data. We need to set up the screenshot tests to capture the highest-quality screenshots possible.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable-pixelcopycapture">Enable PixelCopyCapture<a class="hash-link" href="#enable-pixelcopycapture" title="Direct link to heading">â</a></h3><p><a href="https://developer.android.com/reference/android/view/PixelCopy" target="_blank" rel="noopener noreferrer"><code>PixelCopy</code></a> is a method provided by the Android SDK since API 24 which will faithfully capture the entire <code>Surface</code> presented in the UI to a <code>Bitmap</code>. This includes elevation, shadows and other GPU-accelerated rendering features.</p><p>For best results, it is recommended that you enable the <code>PixelCopyCapture</code> method in Testify.</p><p>There are three ways you can enable <code>PixelCopyCapture</code>:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="in-your-project-manifest">In your project manifest.<a class="hash-link" href="#in-your-project-manifest" title="Direct link to heading">â</a></h4><p>You can enable <code>PixelCopyCapture</code> in your <code>AndroidManifest.xml</code>. This way, this capture method will be used for all tests in your entire project.</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">manifest</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">package</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">dev.testify.sample</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xmlns:</span><span class="token tag attr-name" style="color:#00a4db">android</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://schemas.android.com/apk/res/android</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">application</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta-data</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">testify-pixelcopy-capture</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">application</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">manifest</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="in-your-test-class">In your test class<a class="hash-link" href="#in-your-test-class" title="Direct link to heading">â</a></h4><p>You can enable <code>PixelCopyCapture</code> for your test class by enabling the <code>PixelCopyCapture</code> feature flag in a <code>@Before</code> block. With this method, you will enable the <code>PixelCopyCapture</code> for every test method in your class.</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation builtin">@Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fun</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">before</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TestifyFeatures</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PixelCopyCapture</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setEnabled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="on-your-test-rule">On your test rule<a class="hash-link" href="#on-your-test-rule" title="Direct link to heading">â</a></h4><p>You can enable <code>PixelCopyCapture</code> on a case-by-case basis with the <code>withExperimentalFeatureEnabled()</code> modifier on <code>ScreenshotTestRule</code>.</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation builtin">@get:Rule</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> rule </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ScreenshotRule</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MainActivity</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">java</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation builtin">@ScreenshotInstrumentation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation builtin">@Test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fun</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">testDefault</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">withExperimentalFeatureEnabled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">TestifyFeatures</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PixelCopyCapture</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">assertSame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ignore-unimportant-differences">Ignore unimportant differences<a class="hash-link" href="#ignore-unimportant-differences" title="Direct link to heading">â</a></h2><p>In order to account for the large integer differences that can exist between two visually similar pixels, we need to employ some kind of smart tolerance or heuristic to intelligently exclude irrelevant differences yet still fail on meaningful changes to the UI.</p><p>Even though the number variance may be large, the human eye may not be able to perceive the difference in color. Thankfully, there are multiple algorithms that can tell us the distinction between an unimportant or important changes.</p><blockquote><p><em>In color science, <strong>color difference</strong> or <strong>color distance</strong> is the separation between two colors. This metric allows quantified examination of a notion that formerly could only be described with adjectives.</em>
<a href="https://en.wikipedia.org/wiki/Color_difference#CIELAB_%CE%94E" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Color_difference#CIELAB_%CE%94E</a>*</p></blockquote><p>One such color distance algorithm is <em>Delta E</em>.</p><p>The Delta E algorithm can mathematically quantify the similarity between two different colors. It allows us to ignore the differences between two pixels that the human eye would consider identical while still identifying differences in position, size or layout. Uing Delta E when comparing two images provides a reasonable allowance for small differences in the rendered result that most of us would consider as being âthe sameâ.</p><p>Testify has an optional implementation of the Delta E color distance algorithm which can be enabled with the <code>setExactness()</code> modifier.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable-delta-e-comparison-with-an-exactness-value-of-less-than-1">Enable Delta E comparison with an exactness value of less than 1<a class="hash-link" href="#enable-delta-e-comparison-with-an-exactness-value-of-less-than-1" title="Direct link to heading">â</a></h3><p>You can enable the Delta E comparison method on the Testify rule using the <a href="http://localhost:3000/android-testify/docs/recipes/tolerance" target="_blank" rel="noopener noreferrer"><code>setExactness()</code></a> method.</p><p>Any value less than <code>1.0f</code> will enable the Delta E comparison method. </p><p>A value of <code>0.0f</code> will instruct the comparison method to ignore all differences, no matter how significant. A value of between <code>0.7f</code> and <code>0.9f</code> will generally be the &quot;sweet spot&quot; that will ignore the majority of minor rendering variations while still failing on significant layout changes. You can experiment with your tests to find which value is best for your environment. I&#x27;d recommend starting with <code>0.9f</code> and reducing the value in increments of <code>0.05f</code> until all of your tests pass.</p><p>ð The Delta E comparison implementation uses a coroutine worker pool to efficiently parallelize the comparison operation. As such, it is highly recommend that you enable Multi-Core CPU features on your test target emulator.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="before-each-test">Before each test<a class="hash-link" href="#before-each-test" title="Direct link to heading">â</a></h4><p>You can enable the Delta E comparison for all tests in a test class by enabling it on the <code>ScreenshotRule</code> in a <code>@Before</code> method.</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation builtin">@get:Rule</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> rule </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ScreenshotRule</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MainActivity</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">java</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation builtin">@Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fun</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">before</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rule</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setExactness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.8f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="for-one-test-case">For one test case<a class="hash-link" href="#for-one-test-case" title="Direct link to heading">â</a></h4><p>You can enable the Delta E comparison for a single test by enabling it on the <code>ScreenshotRule</code> in the body of the test method, prior to invoking <code>assertSame()</code>.</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation builtin">@get:Rule</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> rule </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ScreenshotRule</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MainActivity</span><span class="token operator" style="color:#393A34">::</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">java</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation builtin">@ScreenshotInstrumentation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation builtin">@Test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fun</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">testDefault</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setExactness</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0.8f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">assertSame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">â</a></h2><p>A test failure should provide you with important, actionable information. Unimportant rendering differences should not cause your tests to fail. By using <code>PixelCopyCapture</code> with a tolerance of around <code>0.9f</code>, you can safely ignore unimportant differences in your screenshots caused by variations on your testing hardware. This allows you to work more efficiently with others and focus on the visual quality of your application.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/android-testify/blog/tags/differences">differences</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/android-testify/blog/tags/customization">customization</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/ndtp/android-testify/tree/issue-12/docusaurus/docs/blog/2023-02-13-platform-differences.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a></li><li><a href="#a-common-problem" class="table-of-contents__link toc-highlight">A common problem</a></li><li><a href="#capture-screenshots-at-the-highest-quality" class="table-of-contents__link toc-highlight">Capture screenshots at the highest quality</a><ul><li><a href="#enable-pixelcopycapture" class="table-of-contents__link toc-highlight">Enable PixelCopyCapture</a></li></ul></li><li><a href="#ignore-unimportant-differences" class="table-of-contents__link toc-highlight">Ignore unimportant differences</a><ul><li><a href="#enable-delta-e-comparison-with-an-exactness-value-of-less-than-1" class="table-of-contents__link toc-highlight">Enable Delta E comparison with an exactness value of less than 1</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/android-testify/docs/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/android-testify" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ndtp/android-testify" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 ndtp. Built with Docusaurus.</div></div></div></footer></div>
<script src="/android-testify/assets/js/runtime~main.2d32a20c.js"></script>
<script src="/android-testify/assets/js/main.f8d53703.js"></script>
</body>
</html>